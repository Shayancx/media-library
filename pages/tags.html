<section x-data="tagsView" x-init="init()" x-transition:enter.opacity.duration.200ms>
  <div class="page-header">
    <h1 class="page-title">Tags</h1>
    <p class="page-subtitle">Browse posts by topic</p>
  </div>
  
  <div class="tags-cloud">
    <template x-for="tag in sortedTags" :key="tag.name">
      <button class="tag-cloud-item" 
              @click="filterByTag(tag.name)"
              :class="{'active': selectedTag === tag.name}">
        <span x-text="tag.name"></span>
        <span class="tag-count" x-text="tag.count"></span>
      </button>
    </template>
  </div>
  
  <div class="filtered-posts" x-show="selectedTag">
    <div class="filter-header">
      <h3>Posts tagged with "<span x-text="selectedTag"></span>"</h3>
      <button @click="selectedTag = null" class="clear-filter">clear filter</button>
    </div>
    <div class="posts-list">
      <template x-for="post in filteredByTag" :key="post.id">
        <div class="filtered-post" @click="$root.openPost(post)">
          <span x-text="post.title"></span>
          <span class="post-date-small" x-text="formatDate(post.date, 'short')"></span>
        </div>
      </template>
    </div>
  </div>
</section>
