<section x-data="archiveView" x-init="init()" x-transition:enter.opacity.duration.200ms>
  <div class="page-header">
    <h1 class="page-title">Archive</h1>
    <p class="page-subtitle">Browse posts by year</p>
  </div>
  
  <div class="archive-tree">
    <template x-for="year in archiveByYear" :key="year.year">
      <div class="year-group">
        <h3 class="year-title" @click="year.expanded = !year.expanded">
          <span class="year-toggle" x-text="year.expanded ? 'âˆ’' : '+'"></span>
          <span x-text="year.year"></span>
          <span class="year-count">(<span x-text="year.posts.length"></span>)</span>
        </h3>
        <div class="year-posts" x-show="year.expanded" x-transition>
          <template x-for="post in year.posts" :key="post.id">
            <div class="archive-post" @click="$root.openPost(post)">
              <span class="archive-date" x-text="formatDate(post.date, 'short')"></span>
              <span class="archive-title" x-text="post.title"></span>
            </div>
          </template>
        </div>
      </div>
    </template>
  </div>
</section>
